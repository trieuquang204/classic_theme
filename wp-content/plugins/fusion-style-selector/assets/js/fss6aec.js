jQuery(document).ready(function(){if(jQuery('.fss-wrapper').hasClass('fss-wrapper-static')){jQuery('.fss-wrapper').addClass('fss-open');setStickySidebar();}else{jQuery('.fss-wrapper .fss-toggle-demos').on('click',function(e){var mainWrapper=jQuery(this).closest('.fss-wrapper');e.preventDefault();mainWrapper.toggleClass('fss-open');if(mainWrapper.hasClass('fss-open')){jQuery('.fss-demo-tag-search').val('');mainWrapper.find('.fss-demo-tag-filters > li').first().find('.fss-demo-tag-filter').removeClass('fss-filter-current').trigger('click');}
setTimeout(function(){setStickySidebar();},610);});jQuery(window).on('resize',function(){setStickySidebar();});jQuery('body').on('click','.fss-wrapper.fss-open',function(e){if(jQuery(e.target).hasClass('fss-open')){jQuery('.fss-wrapper .fss-toggle-demos').trigger('click');}});jQuery(document).on('keyup',function(e){if(27===e.keyCode&&jQuery('.fss-wrapper').hasClass('fss-open')){jQuery('.fss-wrapper .fss-toggle-demos').trigger('click');}});}});jQuery(document).ready(function(){jQuery('.fss-filters-toggle').on('click',function(e){e.preventDefault();jQuery(this).toggleClass('fss-collapsed');jQuery(this).next().children().slideToggle(300);if(!jQuery(this).closest('.fss-wrapper').hasClass('fss-wrapper-static')){setTimeout(function(){setStickySidebar();},300);}});});jQuery(document).ready(function(){var timeouts=[];jQuery('.fss-wrapper .fss-filters input').on('change',function(e){var demos=jQuery('.fss-wrapper').find('.fss-demo'),filterGroups=jQuery('.fss-wrapper .fss-filters'),selections={},counter=1;e.preventDefault();filterGroups.find('label').removeClass('fss-filter-current');filterGroups.each(function(e){var filterWrapper=jQuery(this),filterType=filterWrapper.data('type'),selected=new Array();filterWrapper.find('input:checked').each(function(){if('all'===this.value){return false;}
selected.push(this.value);jQuery(this).parent().addClass('fss-filter-current');});if(0<selected.length){selections[filterType]=selected;}});jQuery.each(timeouts,function(index,value){clearTimeout(value);});demos.hide().addClass('fss-demo-hidden');demos.each(function(){var demo=jQuery(this),compareData=demo.data(),selectionCount=0;delete compareData['imageSource'];delete compareData['colorsHex'];delete compareData['new'];jQuery.each(compareData,function(filterType,selected){var selectedString;if('undefined'===typeof selections[filterType]){return;}
if(''===selected){return;}else if(-1===selected.indexOf(',')){selected+=',';}
selectedString=selected.split(',');jQuery.each(selectedString,function(index,value){if(-1!==jQuery.inArray(value,selections[filterType])){selectionCount++;return false;}});});if(selectionCount===Object.keys(selections).length){demo.show();timeouts.push(setTimeout(function(){demo.removeClass('fss-demo-hidden');},counter*50));counter++;}});});jQuery('.fss-demo-tag-search').on('change keyup',function(e){var demos=jQuery('.fss-wrapper').find('.fss-demo'),filterGroups=jQuery('.fss-wrapper .fss-filters'),serachInput=e.target.value.toLowerCase();counter=1;e.preventDefault();filterGroups.find('label').removeClass('fss-filter-current');filterGroups.find('input').removeAttr('checked');jQuery.each(timeouts,function(index,value){clearTimeout(value);});demos.hide().addClass('fss-demo-hidden');demos.each(function(){var demo=jQuery(this),compareData=demo.data(),selectionCount=0;delete compareData['imageSource'];delete compareData['colorsHex'];delete compareData['new'];jQuery.each(compareData,function(filterType,selected){var selectedString;if(''===selected){return;}else if(-1===selected.indexOf(',')){selected+=',';}
selectedString=selected.split(',');jQuery.each(selectedString,function(index,value){if(-1!==value.toLowerCase().indexOf(serachInput)){demo.show();timeouts.push(setTimeout(function(){demo.removeClass('fss-demo-hidden');},counter*50));counter++;return false;}});});});jQuery('.fss-demo-tag-filters').find('button').removeClass('fss-filter-current');jQuery('.fss-demo-tag-filters').find('button[data-tag=all]').addClass('fss-filter-current');});});jQuery(document).ready(function(){var demoImages=jQuery('.fss-demo-grid .fss-lazy-load'),options={root:jQuery('.fss-wrapper').hasClass('fss-wrapper-modal')?jQuery('.fss-wrapper')[0]:null,rootMargin:'0px',threshold:0};if('IntersectionObserver'in window){var imageObserver=new IntersectionObserver(function(entries,observer){jQuery.each(entries,function(key,entry){var demo=jQuery(entry.target),image=demo.find('img');if(entry.isIntersecting){image.attr('srcset',image.data('srcset'));image.attr('src',image.data('src'));setTimeout(function(){demo.removeClass('fss-lazy-load').addClass('fss-lazy-loaded');image.attr('alt',image.data('alt'));},500);imageObserver.unobserve(entry.target);}});},options);demoImages.each(function(){imageObserver.observe(this);});}else{demoImages.each(function(){var demo=jQuery(this),image=demo.find('img');image.attr('src',image.data('src'));setTimeout(function(){demo.removeClass('fss-lazy-load').addClass('fss-lazy-loaded');image.attr('alt',image.data('alt'));},500);});}});function setStickySidebar(){var mainWrapper=jQuery('.fss-wrapper'),contentWrapper=mainWrapper.find('.fss-content'),contentWrapperHeight=0,sidebarWrapper=contentWrapper.find('.fss-sidebar')
sidebarContent=contentWrapper.find('.fss-sidebar-content'),filtersWrapper=sidebarContent.find('.fss-filters-wrapper'),images=contentWrapper.find('.fss-lazy-load img'),firstImage='',originalWidth=0,originaHeight=0,imageWidth=0;if(!mainWrapper.hasClass('fss-open')){return false;}
mainWrapper.find('.fss-style-tag').remove();if(images.length){firstImage=contentWrapper.find('.fss-demo-thumb:visible').first();imageWidth=firstImage.width();if('previewImage'===firstImage.parent().data('image-source')){originalWidth=880;originalHeight=660;}else if('previewImageDetailed'===firstImage.parent().data('image-source')){originalWidth=880;originalHeight=660;}else{originalWidth=600;originalHeight=450;}
mainWrapper.append('<style class="fss-style-tag">.fss-wrapper .fss-lazy-load img { min-height: '+(imageWidth/originalWidth*originalHeight)+'px; }</style>');}
if(mainWrapper.hasClass('fss-wrapper-static')){return false;}
sidebarWrapper.removeAttr('style');sidebarContent.removeAttr('style');filtersWrapper.removeAttr('style');if(sidebarContent.height()<=sidebarWrapper.height()){sidebarContent.css('position','sticky');}else if(filtersWrapper.height()<=sidebarWrapper.height()){sidebarContent.css('height','100%');filtersWrapper.css('position','sticky');}
contentWrapperHeight=contentWrapper.height();contentWrapper.css('height','auto');sidebarWrapper.height(mainWrapper.find('.fss-demo-grid').height());contentWrapper.removeAttr('style');}